<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>EDMS Control Panel</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <header class="hero">
      <h1>GxP / 21 CFR Part 11 EDMS</h1>
      <p>
        Interactive frontend mock for compliant document lifecycle, signatures,
        and audit controls.
      </p>
    </header>

    <main class="layout">
      <section class="card">
        <h2>Create / Update Document</h2>
        <form id="document-form">
          <label>
            Document ID
            <input type="text" id="doc-id" placeholder="SOP-001" required />
          </label>

          <label>
            Version
            <input type="number" id="version" min="1" value="1" required />
          </label>

          <label>
            Owner Role
            <select id="role" required>
              <option value="Author">Author</option>
              <option value="Reviewer">Reviewer</option>
              <option value="Approver">Approver</option>
              <option value="Admin">Admin</option>
            </select>
          </label>

          <label>
            Summary
            <textarea id="summary" rows="3" placeholder="Short change summary"></textarea>
          </label>

          <button type="submit">Save Draft</button>
        </form>
      </section>

      <section class="card">
        <h2>Workflow Control</h2>
        <div class="workflow-state">
          <p>Current Status: <strong id="current-state">Draft</strong></p>
        </div>
        <div class="button-row">
          <button data-next="Review" class="transition">Send to Review</button>
          <button data-next="Approved" class="transition">Approve</button>
          <button data-next="Archived" class="transition">Archive</button>
        </div>
        <p class="hint">Allowed path: Draft → Review → Approved → Archived</p>
      </section>

      <section class="card">
        <h2>Electronic Signature</h2>
        <form id="signature-form">
          <label>
            Username
            <input type="text" id="sign-user" placeholder="j.smith" required />
          </label>

          <label>
            Meaning
            <select id="sign-meaning" required>
              <option value="Authored">Authored</option>
              <option value="Reviewed">Reviewed</option>
              <option value="Approved">Approved</option>
            </select>
          </label>

          <label>
            Password Confirmation
            <input type="password" id="sign-pass" required />
          </label>

          <button type="submit">Apply Signature</button>
        </form>
      </section>

      <section class="card full-width">
        <h2>Audit Trail (Immutable Log View)</h2>
        <ul id="audit-log"></ul>
      </section>
    </main>

    <template id="log-item-template">
      <li>
        <span class="time"></span>
        <span class="event"></span>
      </li>
    </template>

    <script src="app.js"></script>
  </body>
</html>
